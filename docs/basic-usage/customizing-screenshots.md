---
title: Customizing screenshots
weight: 3
---

You can customize how OG images are generated by calling methods on the `OgImage` facade in your `AppServiceProvider`. All methods are chainable.

## Size

By default, images are generated at 1200×630 pixels. You can change this:

```php
use Spatie\OgImage\Facades\OgImage;

public function boot(): void
{
    OgImage::size(1200, 630);
}
```

## Format

The default format is JPEG. You can change it to PNG or WebP:

```php
OgImage::format('webp');
```

## Disk

By default, images are stored on the `public` disk in the `og-images` directory. You can change both:

```php
OgImage::disk('s3', 'og-images');
```

## Chaining

All methods can be chained:

```php
OgImage::format('webp')
    ->size(1200, 630)
    ->disk('s3', 'og-images');
```

## Cloudflare

Instead of using Browsershot (the default), you can use Cloudflare's Browser Rendering to generate screenshots:

```php
OgImage::useCloudflare(
    apiToken: env('CLOUDFLARE_API_TOKEN'),
    accountId: env('CLOUDFLARE_ACCOUNT_ID'),
);
```

For more details, see [installation & setup](/docs/laravel-og-image/v1/installation-setup).

## Configuring the screenshot builder

For full control over the screenshot process, use `configureScreenshot()`. The closure receives the `ScreenshotBuilder` instance after the URL, size, disk, and driver have been set:

```php
use Spatie\LaravelScreenshot\ScreenshotBuilder;
use Spatie\OgImage\Enums\WaitUntil;

OgImage::configureScreenshot(function (ScreenshotBuilder $screenshot) {
    $screenshot
        ->deviceScaleFactor(2)
        ->waitUntil(WaitUntil::NetworkIdle0);
});
```

This can be combined with `useCloudflare()` or `useDriver()` — the driver is applied first, then your `configureScreenshot` callback runs on top:

```php
OgImage::useCloudflare(
        apiToken: env('CLOUDFLARE_API_TOKEN'),
        accountId: env('CLOUDFLARE_ACCOUNT_ID'),
    )
    ->configureScreenshot(function (ScreenshotBuilder $screenshot) {
        $screenshot->deviceScaleFactor(2);
    });
```

## Common options

### deviceScaleFactor

Controls the device pixel ratio. Set to `2` for retina-quality images (resulting in 2400×1260 pixel images at the default 1200×630 viewport).

### waitUntil

Determines when the page is considered loaded. Use the `WaitUntil` enum:

- `WaitUntil::Load`: wait for the `load` event
- `WaitUntil::DomContentLoaded`: wait for the `DOMContentLoaded` event
- `WaitUntil::NetworkIdle0`: wait until there are no more than 0 network connections for at least 500ms
- `WaitUntil::NetworkIdle2`: wait until there are no more than 2 network connections for at least 500ms

### waitForTimeout

Additional time to wait (in milliseconds) after the page has loaded. Useful if you need to wait for fonts or animations to complete.
